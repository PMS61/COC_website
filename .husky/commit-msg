# #!/usr/bin/env sh
# . "$(dirname -- "$0")/_/husky.sh"

# Validate commit message format
npx --no -- commitlint --edit "$1"

# Check branch naming convention
BRANCH_NAME=$(git rev-parse --abbrev-ref HEAD)
BRANCH_PATTERN="^[a-zA-Z0-9]+/[a-zA-Z0-9-]+$"

if ! echo "$BRANCH_NAME" | grep -E "$BRANCH_PATTERN" > /dev/null; then
    echo "ğŸš« Branch name must follow pattern: username/feature-name"
    echo "âŒ Your branch name: $BRANCH_NAME"
    echo "âœ… Example: john/add-footer"
    exit 1
fi

echo "âœ… Branch name follows convention: $BRANCH_NAME"