# #!/usr/bin/env sh
# . "$(dirname -- "$0")/_/husky.sh"

# Validate commit message format
npx --no -- commitlint --edit "$1"

# Check branch naming convention
BRANCH_NAME=$(git rev-parse --abbrev-ref HEAD)
BRANCH_PATTERN="^[a-zA-Z0-9]+/[a-zA-Z0-9-]+$"

if ! echo "$BRANCH_NAME" | grep -E "$BRANCH_PATTERN" > /dev/null; then
    echo "ğŸš« Branch name validation failed"
    echo "Branch: $BRANCH_NAME"
    echo "Required format: username/feature-name"
    echo "Examples:"
    echo "âœ… john/add-footer"
    echo "âœ… jane/fix-auth"
    echo "âŒ feature-only"
    echo "âŒ MainBranch"
    exit 1
fi
echo "âœ… Branch name follows convention: $BRANCH_NAME"